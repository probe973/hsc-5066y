<!-- _includes/pagination.html (FINAL - Using a DIV tag) -->

{% assign topic_pages = site.pages
    | where_exp: "item", "item.dir == page.dir"
    | where_exp: "item", "item.name != 'index.md'"
    | sort: "name" %}

{% for p in topic_pages %}
    {% if p.url == page.url %}
        {% assign current_page_index = forloop.index0 %}
    {% endif %}
{% endfor %}

{% assign prev_page_index = current_page_index | minus: 1 %}
{% assign next_page_index = current_page_index | plus: 1 %}

{% assign prev_page = topic_pages[prev_page_index] %}
{% assign next_page = topic_pages[next_page_index] %}

<!-- THE TAG IS NOW A DIV, NOT A NAV -->
<div class="pagination-nav">
    <!-- Previous Link (Aligned Left) -->
    <div class="pagination-prev">
        {% if current_page_index > 0 %}
            <a href="{{ prev_page.url | relative_url }}">&larr; Previous</a>
        {% endif %}
    </div>

    <!-- Next Link (Aligned Right) -->
    <div class="pagination-next">
        {% if next_page %}
            <a href="{{ next_page.url | relative_url }}">Next &rarr;</a>
        {% endif %}
    </div>
</div>
